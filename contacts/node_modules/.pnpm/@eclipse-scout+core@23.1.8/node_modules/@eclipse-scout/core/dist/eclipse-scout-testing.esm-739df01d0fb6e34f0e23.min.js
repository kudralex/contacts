import*as i from"@eclipse-scout/core";import"jasmine-jquery";import"jasmine-ajax";var m={};m.n=r=>{var e=r&&r.__esModule?()=>r.default:()=>r;return m.d(e,{a:e}),e},m.d=(r,e)=>{for(var t in e)m.o(e,t)&&!m.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})},m.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e),m.r=r=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};var n={};m.r(n),m.d(n,{AbortableMicrotaskStaticLookupCall:()=>G,ActiveDummyLookupCall:()=>J,CloneSpecHelper:()=>H,ColumnDescriptorDummyLookupCall:()=>U,DummyLookupCall:()=>C,FocusManagerSpecHelper:()=>V,FormSpecHelper:()=>x,GroupBoxSpecHelper:()=>z,JQueryTesting:()=>p,JasmineScout:()=>P,JasmineScoutUtil:()=>y,LanguageDummyLookupCall:()=>W,LocaleSpecHelper:()=>f,MenuSpecHelper:()=>T,OutlineSpecHelper:()=>I,SpecForm:()=>F,SpecLifecycle:()=>X,SpecRadioButtonGroup:()=>M,SpecTable:()=>E,SpecTableAdapter:()=>k,SpecTree:()=>B,SpecTreeAdapter:()=>D,TabBoxSpecHelper:()=>N,TableSpecHelper:()=>w,TestBeanField:()=>j,TestingApp:()=>v,TreeSpecHelper:()=>R,default:()=>Q,jasmineScoutMatchers:()=>A});var g={};m.r(g),m.d(g,{AbortableMicrotaskStaticLookupCall:()=>G,ActiveDummyLookupCall:()=>J,CloneSpecHelper:()=>H,ColumnDescriptorDummyLookupCall:()=>U,DummyLookupCall:()=>C,FocusManagerSpecHelper:()=>V,FormSpecHelper:()=>x,GroupBoxSpecHelper:()=>z,JQueryTesting:()=>p,JasmineScout:()=>P,JasmineScoutUtil:()=>y,LanguageDummyLookupCall:()=>W,LocaleSpecHelper:()=>f,MenuSpecHelper:()=>T,OutlineSpecHelper:()=>I,SpecForm:()=>F,SpecLifecycle:()=>X,SpecRadioButtonGroup:()=>M,SpecTable:()=>E,SpecTableAdapter:()=>k,SpecTree:()=>B,SpecTreeAdapter:()=>D,TabBoxSpecHelper:()=>N,TableSpecHelper:()=>w,TestBeanField:()=>j,TestingApp:()=>v,TreeSpecHelper:()=>R,default:()=>Q,jasmineScoutMatchers:()=>A});var Y=r=>{var e={};return m.d(e,r),e},st=r=>()=>r;const s=Y({Action:()=>i.Action,BeanField:()=>i.BeanField,Cell:()=>i.Cell,Column:()=>i.Column,CompactTree:()=>i.CompactTree,DecimalFormat:()=>i.DecimalFormat,Desktop:()=>i.Desktop,Form:()=>i.Form,FormLifecycle:()=>i.FormLifecycle,GroupBox:()=>i.GroupBox,Locale:()=>i.Locale,Menu:()=>i.Menu,Mode:()=>i.Mode,ModeSelector:()=>i.ModeSelector,ObjectFactory:()=>i.ObjectFactory,Outline:()=>i.Outline,OutlineAdapter:()=>i.OutlineAdapter,RadioButton:()=>i.RadioButton,RadioButtonGroup:()=>i.RadioButtonGroup,RemoteApp:()=>i.RemoteApp,RemoteEvent:()=>i.RemoteEvent,Session:()=>i.Session,StaticLookupCall:()=>i.StaticLookupCall,StringField:()=>i.StringField,TabBox:()=>i.TabBox,TabItem:()=>i.TabItem,Table:()=>i.Table,TableAdapter:()=>i.TableAdapter,TableField:()=>i.TableField,TableTextUserFilter:()=>i.TableTextUserFilter,TextColumnUserFilter:()=>i.TextColumnUserFilter,Tree:()=>i.Tree,TreeAdapter:()=>i.TreeAdapter,arrays:()=>i.arrays,comparators:()=>i.comparators,objects:()=>i.objects,scout:()=>i.scout,strings:()=>i.strings});class v extends s.RemoteApp{_doBootstrapDefaultValues(){return null}_installErrorHandler(){}_createSession(e){return super._createSession(e)}}var Z=r=>{var e={};return m.d(e,r),e},lt=r=>()=>r;const it=Z({});window.sandboxSession=r=>{r=r||{};let e=$("#sandbox").addClass("scout"),t=r;t.portletPartId=r.portletPartId||"0",t.backgroundJobPollingEnabled=!1,t.suppressErrors=!0,t.$entryPoint=e;let o=s.scout.create(s.Session,t,{ensureUniqueId:!1});o._requestToJson=l=>JSON.stringify(l),o.uiSessionId="1.1",o.modelAdapterRegistry[o.uiSessionId]=o,o.locale=new f().createLocale("de-CH");let a=r.desktop||{};return a.navigationVisible=s.scout.nvl(a.navigationVisible,!1),a.headerVisible=s.scout.nvl(a.headerVisible,!1),a.benchVisible=s.scout.nvl(a.benchVisible,!1),a.parent=s.scout.nvl(a.parent,o.root),o.desktop=s.scout.create(s.Desktop,a),s.scout.nvl(r.renderDesktop,!0)&&o._renderDesktop(),e.window().off("resize",o.desktop._resizeHandler),o},window.linkWidgetAndAdapter=(r,e)=>{let t=r.session,o=s.scout.create(e,{id:r.id,session:t});o.widget=r,r.modelAdapter=o,o._attachWidget(),o._postCreateWidget()},window.mapAdapterData=r=>{let e={};return r=s.arrays.ensure(r),r.forEach(t=>{e[t.id]=t}),e},window.registerAdapterData=(r,e)=>{let t=window.mapAdapterData(r);e._copyAdapterData(t)},window.removePopups=(r,e)=>{e=e||".popup",r.$entryPoint.children(e).each(function(){let t=s.scout.widget($(this));t.animateRemoval=!1,t.remove()})},window.createSimpleModel=(r,e,t)=>{t===void 0&&(t=s.ObjectFactory.get().createUniqueId());let o=e.desktop;return{id:t,objectType:r,parent:o,session:e}},window.mostRecentJsonRequest=()=>{let r=jasmine.Ajax.requests.mostRecent();if(r)return $.parseJSON(r.params)},window.sandboxDesktop=()=>{let r=sandbox();return r.addClass("scout desktop"),r},window.sendQueuedAjaxCalls=(r,e)=>{e=e||0,jasmine.clock().tick(e),window.receiveResponseForAjaxCall(null,r)},window.receiveResponseForAjaxCall=(r,e)=>{e||(e={status:200,responseText:'{"events":[]}'}),r||(r=jasmine.Ajax.requests.mostRecent()),r&&r.onload&&r.respondWith(e)},window.uninstallUnloadHandlers=r=>{$(window).off("beforeunload."+r.uiSessionId).off("unload."+r.uiSessionId)},window.createPropertyChangeEvent=(r,e)=>({target:r.id,properties:e,type:"property"});const P={runTestSuite(r){this.startApp(v),beforeEach(()=>{jasmine.addMatchers(A)}),r.keys().forEach(r)},startApp(r){jasmine.clock().install(),new r().init(),jasmine.clock().tick(1e3),jasmine.clock().uninstall()}},ee=require("jquery");var d=m.n(ee),te=r=>{var e={};return m.d(e,r),e},nt=r=>()=>r;const ut=te({});let L={};const y={loadJsonResource(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(s.scout.assertParameter("jsonResourceUrl",r),s.scout.nvl(e.useCache,!0)){let t=L[r];if(t)return d().resolvedPromise(t)}return d().ajax({async:!1,type:"GET",dataType:"json",contentType:"application/json; charset=UTF-8",cache:!1,url:r}).done(t=>(s.scout.nvl(e.useCache,!0)&&(L[r]=t),d().resolvedPromise(t))).fail((t,o,a)=>{throw new Error("Could not load resource from url: "+r)})},loadJsonResourceAndMockRestCall(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};s.scout.assertParameter("resourceUrlToMock",r),y.loadJsonResource(e,t).then(o=>y.mockRestCall(r,o,t))},mockRestLookupCall(r,e,t){s.scout.assertParameter("resourceUrlToMock",r),e=s.arrays.ensure(e).map(o=>d().extend({active:!0,enabled:!0,parentId:null},o)),y.mockRestCall(r,{rows:e},{restriction:t}),e.forEach(o=>{y.mockRestCall(r,{rows:[o]},{restriction:o.id})})},mockRestCall(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=new RegExp(".*"+s.strings.quote(r)+".*"),a=t.restriction?new RegExp(".*"+s.strings.quote(t.restriction)+".*"):void 0;jasmine.Ajax.stubRequest(o,a,t.method).andReturn({status:200,responseText:JSON.stringify(e)})},captureNotMockedCalls(){jasmine.Ajax.stubRequest(/.*/).andCallFunction(r=>{fail("Ajax call not mocked for url: "+r.url+", method: "+r.method)})}};function h(r,e,t){return e=re(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function re(r){var e=oe(r,"string");return typeof e=="symbol"?e:String(e)}function oe(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var o=t.call(r,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class f{constructor(){h(this,"decimalFormatSymbolsByLocale",void 0),h(this,"dateFormatSymbolsByLocale",void 0),h(this,"dateFormatPatternByLocale",void 0),this._initDecimalFormatSymbols(),this._initDateFormatSymbols(),this._initDateFormatDefaultPatterns()}createModel(e){return{languageTag:e}}createLocale(e){let t=this.createModel(e);return t.decimalFormatSymbols=this.decimalFormatSymbolsByLocale[e],t.decimalFormatPatternDefault="#,##0.###",t.dateFormatSymbols=this.dateFormatSymbolsByLocale[e],t.dateFormatPatternDefault=this.dateFormatPatternByLocale[e]||f.DEFAULT_DATE_FORMAT_PATTERN,t.timeFormatPatternDefault=f.DEFAULT_TIME_FORMAT_PATTERN,new s.Locale(t)}_initDecimalFormatSymbols(){this.decimalFormatSymbolsByLocale={},this.decimalFormatSymbolsByLocale[f.DEFAULT_LOCALE]=this.createDecimalFormatSymbolsForDeCH(),this.decimalFormatSymbolsByLocale[f.GERMAN_LOCALE]=this.createDecimalFormatSymbolsForDeDE()}createDecimalFormatSymbolsForDeCH(){return{decimalSeparator:".",groupingSeparator:"'",minusSign:"-"}}createDecimalFormatSymbolsForDeDE(){let e=this.createDecimalFormatSymbolsForDeCH();return e.decimalSeparator=",",e.groupingSeparator=".",e}_initDateFormatSymbols(){let e=this.createDateFormatSymbolsForDe();this.dateFormatSymbolsByLocale={},this.dateFormatSymbolsByLocale[f.DEFAULT_LOCALE]=e,this.dateFormatSymbolsByLocale[f.GERMAN_LOCALE]=e}_initDateFormatDefaultPatterns(){this.dateFormatPatternByLocale={},this.dateFormatPatternByLocale.de="dd.MM.yyyy"}createDateFormatSymbolsForDe(){return{weekdays:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],weekdaysShort:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","MÃ¤rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],am:"AM",pm:"PM"}}}h(f,"DEFAULT_LOCALE","de-CH"),h(f,"GERMAN_LOCALE","de-DE"),h(f,"DEFAULT_DATE_FORMAT_PATTERN","dd.MM.yyyy"),h(f,"DEFAULT_TIME_FORMAT_PATTERN","HH:mm");function ae(r,e,t){return e=se(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function se(r){var e=le(r,"string");return typeof e=="symbol"?e:String(e)}function le(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var o=t.call(r,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class T{constructor(e){ae(this,"session",void 0),this.session=e}createModel(e,t,o){let a=createSimpleModel("Menu",this.session);return $.extend(a,{text:e,iconId:t,menuTypes:o,visible:!0}),a}createMenu(e){return e=e||{},e.objectType=e.objectType||s.Menu,e.session=this.session,e.parent=this.session.desktop,s.scout.create(e)}}function ie(r,e,t){return e=ne(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ne(r){var e=ue(r,"string");return typeof e=="symbol"?e:String(e)}function ue(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var o=t.call(r,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class R{constructor(e){ie(this,"session",void 0),this.session=e}createModel(e){let t=createSimpleModel("Tree",this.session);return e&&(t.nodes=e),t.enabled=!0,t}createModelFixture(e,t,o){return this.createModel(this.createModelNodes(e,t,{expanded:o}))}createModelNode(e,t,o,a){return d().extend({id:e+""||s.ObjectFactory.get().createUniqueId(),text:t,childNodeIndex:o||0,enabled:!0,checked:!1},a)}createModelNodes(e,t,o){return this.createModelNodesInternal(e,t,null,o)}createModelNodesInternal(e,t,o,a){if(!e)return;let l=[],c;t||(t=0);for(let u=0;u<e;u++)c=u,o&&(c=o.id+"_"+c),l[u]=this.createModelNode(c,"node "+c,u,a),t>0&&(l[u].childNodes=this.createModelNodesInternal(e,t-1,l[u],a));return l}createTree(e){let t={parent:this.session.desktop};e=d().extend({},t,e);let o=new B;return o.init(e),o}createTreeAdapter(e){let t=new D;return t.init(e),t}createCompactTree(e){let t=new s.CompactTree;return t.init(e),t}createCompactTreeAdapter(e){e.objectType="Tree:Compact";let t=new s.TreeAdapter;return t.init(e),t}findAllNodes(e){return e.$container.find(".tree-node")}createNodeExpandedEvent(e,t,o){return{target:e.id,nodeId:t,expanded:o,type:"nodeExpanded"}}selectNodesAndAssert(e,t){e.selectNodes(t),this.assertSelection(e,t)}assertSelection(e,t){let o=e.$selectedNodes();expect(o.length).toBe(t.length);let a=[];o.each(function(){a.push(d()(this).data("node"))}),expect(s.arrays.equalsIgnoreOrder(t,a)).toBeTruthy(),expect(s.arrays.equalsIgnoreOrder(t,e.selectedNodes)).toBeTruthy()}createNodesSelectedEvent(e,t){return{target:e.id,nodeIds:t,type:"nodesSelected"}}createNodesInsertedEvent(e,t,o){return{target:e.id,commonParentNodeId:o,nodes:t,type:"nodesInserted"}}createNodesInsertedEventTopNode(e,t){return{target:e.id,nodes:t,type:"nodesInserted"}}createNodesDeletedEvent(e,t,o){return{target:e.id,commonParentNodeId:o,nodeIds:t,type:"nodesDeleted"}}createAllChildNodesDeletedEvent(e,t){return{target:e.id,commonParentNodeId:t,type:"allChildNodesDeleted"}}createNodeChangedEvent(e,t){return{target:e.id,nodeId:t,type:"nodeChanged"}}createNodesUpdatedEvent(e,t){return{target:e.id,nodes:t,type:"nodesUpdated"}}createChildNodeOrderChangedEvent(e,t,o){return{target:e.id,parentNodeId:o,childNodeIds:t,type:"childNodeOrderChanged"}}createTreeEnabledEvent(e,t){return{target:e.id,type:"property",properties:{enabled:t}}}}function O(r,e,t){return e=ce(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ce(r){var e=de(r,"string");return typeof e=="symbol"?e:String(e)}function de(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var o=t.call(r,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class w{constructor(e){O(this,"session",void 0),O(this,"menuHelper",void 0),this.session=e,this.menuHelper=new T(e)}createModel(e,t){let o=createSimpleModel("Table",this.session);return t&&(o.rows=t),e&&(o.columns=e),o}createModelRow(e,t,o){return{id:s.scout.nvl(e,s.ObjectFactory.get().createUniqueId()),cells:t,parentRow:o}}createModelRowByTexts(e,t,o){t=s.arrays.ensure(t);let a=[];for(let l=0;l<t.length;l++)o?a[l]=t[l]:a[l]=this.createModelCell(t[l]);return this.createModelRow(e,a)}createModelRowByValues(e,t){t=s.arrays.ensure(t);let o=[];for(let a=0;a<t.length;a++)o[a]=this.createModelCell(null,t[a]);return this.createModelRow(e,o)}createModelColumn(e,t){let o={id:s.ObjectFactory.get().createUniqueId(),text:e,objectType:t===void 0?"Column":t,uiSortPossible:!0};return t==="NumberColumn"&&(o.decimalFormat=new s.DecimalFormat(this.session.locale)),o}createModelCell(e,t){let o={};return e!==void 0&&(o.text=e),t!==void 0&&(o.value=t),s.scout.create(s.Cell,o)}createMenuModel(e,t){return this.menuHelper.createModel(e,t,[s.Table.MenuTypes.SingleSelection])}createMenuModelWithSingleAndHeader(e,t){return this.menuHelper.createModel(e,t,[s.Table.MenuTypes.SingleSelection,s.Table.MenuTypes.Header])}createModelColumns(e,t){if(!e)return;t||(t="Column");let o=[],a=[];if(s.objects.isArray(t)){if(t.length!==e)throw new Error("Column count("+e+") does not match with columnType.length ("+t.length+").");a=t}else for(let l=0;l<e;l++)a.push(t);for(let l=0;l<e;l++)o[l]=this.createModelColumn("col"+l,a[l]);return o}createModelCells(e,t){let o=[];if(t===void 0&&(t=""),typeof e=="number")for(let a=0;a<e;a++)o[a]=this.createModelCell(t+"_"+a,"cell"+t+"_"+a);else for(let a=0;a<e.length;a++){let l="cell"+t+a;e[a].objectType==="NumberColumn"&&(l=t+a),o[a]=this.createModelCell(t+"_"+a,l)}return o}createModelRows(e,t,o){if(!t)return;let a=[];for(let l=0;l<t;l++)a[l]=this.createModelRow(null,this.createModelCells(e,l+""),o);return a}createModelSingleColumnByTexts(e){let t=[];for(let o=0;o<e.length;o++)t.push(this.createModelRowByTexts(null,e[o]));return this.createModel(this.createModelColumns(1),t)}createModelSingleColumnByValues(e,t){let o=[];for(let a=0;a<e.length;a++)o.push(this.createModelRowByValues(null,e[a]));return this.createModel(this.createModelColumns(1,t),o)}createModelFixture(e,t){return this.createModel(this.createModelColumns(e),this.createModelRows(e,t))}createTableWithOneColumn(){let e=this.createModelFixture(1,1);return this.createTable(e)}createModelSingleConfiguredCheckableColumn(e){let t=this.createModelColumns(1);return t[0].checkable=!0,this.createModel(t,this.createModelRows(1,e))}createTable(e){let t={parent:this.session.desktop};return e=d().extend({},t,e),s.scout.create(E,e)}createTableAdapter(e){let t=new k;return t.init(e),t}createColumnFilter(e){let t=new s.TextColumnUserFilter;return t.init(e),t}createAndRegisterColumnFilter(e){let t=this.createColumnFilter(e);return e.table.addFilter(t),t}createTableTextFilter(e,t){return s.scout.create(s.TableTextUserFilter,{session:this.session,table:e,text:t})}createTextColumnFilter(e,t,o){return s.scout.create(s.TextColumnUserFilter,{session:this.session,table:e,column:t,freeText:o})}createColumnStructureChangedEvent(e,t){return{target:e.id,columns:t,type:"columnStructureChanged"}}createRowsInsertedEvent(e,t){return{target:e.id,rows:t,type:"rowsInserted"}}createAllRowsDeletedEvent(e){return{target:e.id,type:"allRowsDeleted"}}createFiltersChangedEvent(e,t){return{target:e.id,filters:t,type:"filtersChanged"}}applyDisplayStyle(e){e.$data.css("position","relative"),e.$rows().each(function(){let t=d()(this);t.css("display","table-row"),t.children(".table-cell").each(function(){d()(this).css("display","table-cell")})})}getRowIds(e){let t=[];for(let o=0;o<e.length;o++)t.push(e[o].id);return t}selectRowsAndAssert(e,t){e.selectRows(t),this.assertSelection(e,t)}assertSelection(e,t){let o=e.$selectedRows();expect(o.length).toBe(t.length);let a=[];o.each(function(){a.push(d()(this).data("row")),o.length===1&&expect(d()(this).hasClass("select-single")).toBeTruthy()}),expect(s.arrays.equalsIgnoreOrder(t,a)).toBeTruthy(),expect(s.arrays.equalsIgnoreOrder(t,e.selectedRows)).toBeTruthy()}assertTextsInCells(e,t,o){expect(e.length).toBe(o.length);for(let a=0;a<e.length;a++)expect(e[a].cells[t].text).toBe(o[a])}assertValuesInCells(e,t,o){expect(e.length).toBe(o.length);for(let a=0;a<e.length;a++)expect(e[a].cells[t].value).toBe(o[a])}assertDatesInCells(e,t,o){expect(e.length).toBe(o.length);for(let a=0;a<e.length;a++)expect(e[a].cells[t].value.getTime()).toBe(o[a].getTime())}assertSelectionEvent(e,t){let o=new s.RemoteEvent(e,"rowsSelected",{rowIds:t});expect(mostRecentJsonRequest()).toContainEvents(o)}getDisplayingContextMenu(e){return d()("body").find(".context-menu")}resetIntlCollator(){s.comparators.TEXT.installed=!1,s.comparators.TEXT.collator=null}}function pe(r,e,t){return e=me(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function me(r){var e=fe(r,"string");return typeof e=="symbol"?e:String(e)}function fe(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var o=t.call(r,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class x{constructor(e){pe(this,"session",void 0),this.session=e}closeMessageBoxes(){if(!this.session||!this.session.$entryPoint)return;let e=this.session.$entryPoint.find(".messagebox .box-button");for(let t=0;t<e.length;t++)s.scout.widget(e[t],s.Action).doAction()}createViewWithOneField(e){let t=this.createFormWithOneField(e);return t.displayHint=s.Form.DisplayHint.VIEW,t}createFormWithOneField(e){let t={parent:this.session.desktop};e=d().extend({},t,e);let o=s.scout.create(F,e),a=this.createGroupBoxWithFields(o,1);return o.setRootGroupBox(a),o}createFormWithFieldsAndTabBoxes(e){let t=(b,_)=>({id:b,objectType:s.StringField,label:b,mandatory:_}),o=(b,_)=>({id:b,objectType:s.TabBox,tabItems:_}),a=(b,_)=>({id:b,objectType:s.TabItem,label:"id",fields:_}),l=(b,_)=>({id:b,objectType:s.TableField,label:b,table:{id:b+"Table",objectType:s.Table,columns:_}}),c=(b,_)=>({id:b,objectType:s.Column,text:b,editable:!0,mandatory:_}),u={parent:this.session.desktop,id:"Form",title:"Form",rootGroupBox:{id:"RootGroupBox",objectType:s.GroupBox,fields:[t("Field1",!1),t("Field2",!1),t("Field3",!0),t("Field4",!0),o("TabBox",[a("TabA",[t("FieldA1",!1),t("FieldA2",!0),o("TabBoxA",[a("TabAA",[t("FieldAA1",!1),t("FieldAA2",!0)]),a("TabAB",[t("FieldAB1",!1),t("FieldAB2",!0)]),a("TabAC",[t("FieldAC1",!1),t("FieldAC2",!0)])])]),a("TabB",[t("FieldB1",!1),t("FieldB2",!1),t("FieldB3",!0),t("FieldB4",!0),l("TableFieldB5",[c("ColumnB51",!1),c("ColumnB52",!0)])])])]}};e=d().extend({},u,e);let S=s.scout.create(s.Form,e);return S.widget("TableFieldB5",s.TableField).table.insertRows([{cells:s.arrays.init(2,null)},{cells:s.arrays.init(2,null)}]),S}createGroupBoxWithOneField(e){return this.createGroupBoxWithFields(e,1)}createGroupBoxWithFields(e,t){e=s.scout.nvl(e,this.session.desktop),t=s.scout.nvl(t,1);let o=[],a=s.scout.create(s.GroupBox,{parent:e});for(let l=0;l<t;l++)o.push(s.scout.create(s.StringField,{parent:a}));return a.setProperty("fields",o),a}createRadioButtonGroup(e,t){e=s.scout.nvl(e,this.session.desktop),t=s.scout.nvl(t,2);let o=[];for(let a=0;a<t;a++)o.push({objectType:s.RadioButton});return s.scout.create(M,{parent:e,fields:o})}createFormWithFields(e,t,o){e=s.scout.nvl(e,this.session.desktop);let a=s.scout.create(s.Form,{parent:e,displayHint:t?"dialog":"view"}),l=this.createGroupBoxWithFields(a,o);return a.setRootGroupBox(l),a}createFieldModel(e,t,o){t=s.scout.nvl(t,this.session.desktop);let a=createSimpleModel(e||"StringField",this.session);return a.parent=t,o&&d().extend(a,o),a}createField(e,t,o){return s.scout.create(e,this.createFieldModel(e,t,o))}createModeSelector(e,t){e=s.scout.nvl(e,this.session.desktop),t=s.scout.nvl(t,2);let o=[];for(let a=0;a<t;a++)o.push({objectType:s.Mode});return s.scout.create(s.ModeSelector,{parent:e,modes:o})}}class H{validateClone(e,t){let o=e._cloneProperties.filter(l=>e._widgetProperties.indexOf(l)<0),a=e._cloneProperties.filter(l=>e._widgetProperties.indexOf(l)>-1);o.forEach(l=>{expect(t[l]).toBeDefined(),expect(t[l]).toBe(e[l])}),a.forEach(l=>{expect(t[l]).toBeDefined(),expect(t).toHaveClonedWidgetProperty(e,l)})}}class j extends s.BeanField{_render(){super._render(),this.$container.addClass("test-bean-field")}_renderValue(){this.$field.empty(),this.value&&(this.$field.appendDiv("msg-from").text("Message from "+this.value.sender),this.$field.appendDiv("msg-text").textOrNbsp(this.value.message))}}function be(r,e,t){return e=_e(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function _e(r){var e=he(r,"string");return typeof e=="symbol"?e:String(e)}function he(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var o=t.call(r,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class N{constructor(e){be(this,"session",void 0),this.session=e}createTabBoxWith2Tabs(e){return e=d().extend({tabItems:[{objectType:s.TabItem,label:"first"},{objectType:s.TabItem,label:"second"}]},e),this.createTabBox(e)}createTabBoxWith(e){return e=s.scout.nvl(e,[]),this.createTabBox({tabItems:e,selectedTab:e[0]})}createTabBox(e){return e=d().extend({parent:this.session.desktop},e),s.scout.create(s.TabBox,e)}createTabItem(e){return e=d().extend({parent:this.session.desktop},e),s.scout.create(s.TabItem,e)}}function ye(r,e,t){return e=ge(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ge(r){var e=Se(r,"string");return typeof e=="symbol"?e:String(e)}function Se(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var o=t.call(r,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class I{constructor(e){ye(this,"session",void 0),this.session=e}createModelFixture(e,t,o){return this.createModel(this.createModelNodes(e,t,o))}createModel(e){let t=createSimpleModel("Outline",this.session);return e&&(t.nodes=e),t}createModelNode(e,t){return{id:e,text:t}}createModelNodes(e,t,o){return this.createModelNodesInternal(e,t,o)}createModelNodesInternal(e,t,o,a){if(!e)return;let l=[],c;t||(t=0);for(let u=0;u<e;u++)c=u,a&&(c=a.id+"_"+c),l[u]=this.createModelNode(c,"node "+u),l[u].expanded=o,t>0&&(l[u].childNodes=this.createModelNodesInternal(e,t-1,o,l[u]));return l}createOutline(e){let t={parent:this.session.desktop},o=d().extend({},t,e),a=new s.Outline;return a.init(o),a}createOutlineAdapter(e){let t=new s.OutlineAdapter;return t.init(e),t}createOutlineWithOneDetailForm(){let e=this.createModelFixture(3,2,!0),t=this.createOutline(e),o=t.nodes[0];return o.detailForm=new x(this.session).createFormWithOneField({modal:!1}),o.detailFormVisible=!0,t}createOutlineWithOneDetailTable(){let e=this.createModelFixture(3,2,!0),t=this.createOutline(e),o=t.nodes[0];return o.detailTable=new w(this.session).createTableWithOneColumn(),o.detailTableVisible=!0,t}setMobileFlags(e){e.setBreadcrumbStyleActive(!0),e.setToggleBreadcrumbStyleEnabled(!1),e.setCompact(!0),e.setEmbedDetailContent(!0)}}function q(r,e,t){return e=ve(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ve(r){var e=Te(r,"string");return typeof e=="symbol"?e:String(e)}function Te(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var o=t.call(r,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class C extends s.StaticLookupCall{constructor(){super(),q(this,"multiline",void 0),q(this,"showText",void 0),this.multiline=!1,this.showText=!0,this.setDelay(250)}_data(){return[[1,"Foo"],[2,"Bar",1],[3,"Baz",1]]}_dataToLookupRow(e){let t=super._dataToLookupRow(e);return t.cssClass=t.text.toLowerCase(),this.showText?this.multiline&&(t.text="1:"+t.text+`
2:`+t.text):t.text=null,t}}function we(r,e,t){return e=xe(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function xe(r){var e=Ce(r,"string");return typeof e=="symbol"?e:String(e)}function Ce(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var o=t.call(r,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class G extends s.StaticLookupCall{constructor(){super(),we(this,"_deferred",void 0),this._deferred=null}abort(){this._deferred.reject({canceled:!0}),super.abort()}_getByKey(e){return this._deferred=d().Deferred(),queueMicrotask(this._queryByKey.bind(this,this._deferred,e)),this._deferred.promise()}_getAll(){return this._deferred=d().Deferred(),queueMicrotask(this._queryByAll.bind(this,this._deferred)),this._deferred.promise()}_getByText(e){return this._deferred=d().Deferred(),queueMicrotask(this._queryByText.bind(this,this._deferred,e)),this._deferred.promise()}_getByRec(e){return this._deferred=d().Deferred(),queueMicrotask(this._queryByRec.bind(this,this._deferred,e)),this._deferred.promise()}}class J extends s.StaticLookupCall{constructor(){super(),this.setDelay(250)}_data(){return[[1,"Foo",!0],[2,"Bar",!1],[3,"Baz",null]]}_dataToLookupRow(e){let t=super._dataToLookupRow(e);return t.active=e[2],t}}class U extends C{constructor(){super(),this.multiline=!1,this.showText=!0,this.setDelay(250)}_dataToLookupRow(e){let t=super._dataToLookupRow(e);return t.additionalTableRowData={column1:t.text+" column1",column2:t.text+" column2"},t}}function K(r,e,t){return e=Fe(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Fe(r){var e=Me(r,"string");return typeof e=="symbol"?e:String(e)}function Me(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var o=t.call(r,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class W extends s.StaticLookupCall{constructor(){super(),K(this,"multiline",void 0),K(this,"showText",void 0),this.multiline=!1,this.showText=!0,this.setDelay(250)}_data(){return[[100,e.call(this,"English")],[200,e.call(this,"German")],[300,e.call(this,"Italian")],[400,e.call(this,"French")],[500,e.call(this,"Swiss-German")]];function e(t){return this.showText?this.multiline?"1:"+t+`
2:`+t:t:null}}}class V{handlersRegistered(e){let t,o=["keydown","focusin","focusout","hide"],a=0,l=d()._data(e[0],"events"),c=o.length;if(l)for(t=0;t<c;t++)l[o[t]]&&a++;return a===c}}class z{static assertGridData(e,t,o,a,l){expect(l.x).toEqual(e),expect(l.y).toEqual(t),expect(l.w).toEqual(o),expect(l.h).toEqual(a)}}const p={triggerBlur(r){let e=$.Event("blur",{originalEvent:$.Event("dummy")});r.trigger(e)},triggerRightClick(r){r.trigger($.Event("mousedown",{which:3})),r.trigger($.Event("mouseup",{which:3}))},triggerKeyUp(r,e,t){let o=$.Event("keyup",{originalEvent:$.Event("dummy"),which:e});p.extendEventWithModifier(o,t),r.trigger(o)},triggerKeyDown(r,e,t){let o=$.Event("keydown",{originalEvent:$.Event("dummy"),which:e});p.extendEventWithModifier(o,t),r.trigger(o)},extendEventWithModifier(r,e){r.altKey=e==="alt",r.ctrlKey=e==="ctrl",r.shiftKey=e==="shift",r.metaKey=e==="meta"},triggerMouseEnter(r,e){p.triggerMouseAction(r,"mouseenter",e)},triggerMouseLeave(r,e){p.triggerMouseAction(r,"mouseleave",e)},triggerMouseDown(r,e){p.triggerMouseAction(r,"mousedown",e)},triggerMouseDownCapture(r){let e;try{e=new MouseEvent("mousedown",{view:window,bubbles:!0,cancelable:!0})}catch{e=document.createEvent("MouseEvent"),e.initEvent("mousedown",!0,!0)}r[0].dispatchEvent(e)},triggerKeyDownCapture(r,e,t){p.triggerKeyCapture(r,"keydown",e,t)},triggerKeyUpCapture(r,e,t){p.triggerKeyCapture(r,"keyup",e,t)},triggerKeyInputCapture(r,e,t){p.triggerKeyCapture(r,"keydown",e,t),p.triggerKeyCapture(r,"keyup",e,t)},triggerKeyCapture(r,e,t,o){let a;try{a=new Event(e,{bubbles:!0,cancelable:!0})}catch{a=document.createEvent("CustomEvent"),a.initEvent(e,!0,!0)}a.keyCode=t,a.which=t,p.extendEventWithModifier(a,o),r[0].dispatchEvent(a)},triggerMouseUp(r,e){p.triggerMouseAction(r,"mouseup",e)},triggerMouseAction(r,e,t){let o;t=t||{},t.position||(t.position=r.offset()),t.clicks||(t.clicks=1),t.which||(t.which=1),o=$.Event(e,{which:t.which,originalEvent:$.Event(e,{detail:t.clicks}),pageX:t.position.left,pageY:t.position.top}),t.modifier&&p.extendEventWithModifier(o,t.modifier),r.trigger(o)},triggerContextMenu(r){let e={position:r.offset(),which:3};p.triggerMouseDown(r,e),p.triggerMouseUp(r,e),r.trigger($.Event("contextmenu",{pageX:e.position.left,pageY:e.position.top}))},triggerClick(r,e){e=e||{},e.click||(e.click=1),p.triggerMouseDown(r,e),p.triggerMouseUp(r,e),p.triggerMouseAction(r,"click",e)},triggerDoubleClick(r){p.triggerClick(r),p.triggerClick(r,{click:2}),r.trigger($.Event("dblclick",{originalEvent:$.Event("dummy",{detail:2})}))},triggerImageLoadCapture(r){let e;try{e=new Event("load",{bubbles:!0,cancelable:!0})}catch{e=document.createEvent("Event"),e.initEvent("load",!0,!0)}r[0].dispatchEvent(e)}};class F extends s.Form{_load(){return super._load()}_save(e){return super._save(e)}}class X extends s.FormLifecycle{_validate(){return super._validate()}_createInvalidElementsMessageHtml(e,t){return super._createInvalidElementsMessageHtml(e,t)}}class M extends s.RadioButtonGroup{_setGridColumnCount(e){return super._setGridColumnCount(e)}}const A={toContainEvents:r=>({compare:(e,t)=>{t===void 0&&(t=[]),Array.isArray(t)||(t=[t]);let o={},a=[];if(e)for(let l=0;l<e.events.length;l++)a.push(e.events[l]);o.pass=!0;for(let l=0;l<t.length;l++)Object.getPrototypeOf(t[l])!==Object.prototype&&(t[l]=$.parseJSON(JSON.stringify(t[l]))),o.pass=o.pass&&r.contains(a,t[l]);return o.pass||(o.message="Expected actual events "+a+" to be equal to "+t),o}}),toContainEventsExactly:r=>({compare:(e,t)=>{t===void 0&&(t=[]),Array.isArray(t)||(t=[t]);let o={},a=[];if(e)for(let l=0;l<e.events.length;l++)a.push(e.events[l]);o.pass=!0;for(let l=0;l<t.length;l++)Object.getPrototypeOf(t[l])!==Object.prototype&&(t[l]=$.parseJSON(JSON.stringify(t[l])));return o.pass=r.equals(a,t),o.pass||(o.message="Expected actual events "+a+" to be equal to "+t),o}}),toContainEventTypesExactly:r=>({compare:(e,t)=>{t===void 0&&(t=[]),Array.isArray(t)||(t=[t]);let o={},a=[];if(e)for(let l=0;l<e.events.length;l++)a.push(e.events[l].type);return o.pass=r.equals(a,t),o.pass||(o.message="Expected actual event types "+a+" to be equal to "+t),o}}),allToHaveClass:(r,e)=>({compare:(t,o)=>{o===void 0&&(o=[]),Array.isArray(o)||(o=[o]),Array.isArray(t)||(t=[t]);let a={pass:t.every(l=>l.hasClass(o))};return a.pass||(a.message="Expected "+t+" all to have "+o+" as classes."),a}}),anyToHaveClass:(r,e)=>({compare:(t,o)=>{o===void 0&&(o=[]),Array.isArray(o)||(o=[o]),Array.isArray(t)||(t=[t]);let a={pass:t.some(l=>l.hasClass(o))};return a.pass||(a.message="Expected any "+t+" to have "+o+" as classes."),a}}),toHaveClonedWidgetProperty:(r,e)=>({compare:(t,o,a)=>{let l=(c,u,S)=>c===u?{pass:!1,message:"widgetProperty '"+a+"' is same on [original: '"+o[a]+"', clone: '"+t[a]+"']. It should be a deep copy."}:c.objectType!==u.objectType?{pass:!1,message:"widgetProperty '"+a+"' has not same object type of clone and original. [original.objectType: '"+c.objectType+"', clonedWidget.objectType: '"+u.objectType+"']."}:u.parent!==t?{pass:!1,message:"widgetProperty '"+a+"' has a wrong parent in clone (widget parent and clone should be same). [clone: '"+t+"', widget.parent: '"+u.parent+"']."}:c!==u.cloneOf?{pass:!1,message:"widgetProperty '"+a+"' cloneOf of clone is not set correctly. [original: '"+c+"', clone.cloneOf: '"+u.cloneOf+"']."}:{pass:!0};if(o[a]===t[a])return{pass:!1,message:"widgetProperty '"+a+"' is same on [original: '"+o[a]+"', clone: '"+t[a]+"']. It should be a deep copy."};if(Array.isArray(o[a])){if(!Array.isArray(t[a]))return{pass:!1,message:"widgetProperty '"+a+"' is not an array [original: '"+o[a]+"', clone: '"+t[a]+"']. It should be a deep copy."};for(let c=0;c<o[a].length;c++){let u=l(o[a][c],t[a][c],a);if(!u.pass)return u}}return{pass:!0}}})};class E extends s.Table{_resizeToFit(e,t,o){super._resizeToFit(e,t,o)}_calculateCurrentViewRange(){return super._calculateCurrentViewRange()}_calculateViewRangeForRowIndex(e){return super._calculateViewRangeForRowIndex(e)}_unwrapText(e){return super._unwrapText(e)}_selectedRowsToText(){return super._selectedRowsToText()}}class k extends s.TableAdapter{_onRowsDeleted(e){super._onRowsDeleted(e)}_onRowsSelected(e){super._onRowsSelected(e)}_onRowsChecked(e){super._onRowsChecked(e)}_onRowsExpanded(e){super._onRowsExpanded(e)}_sendFilter(e){super._sendFilter(e)}}class B extends s.Tree{_calculateCurrentViewRange(){return super._calculateCurrentViewRange()}_expandAllParentNodes(e){super._expandAllParentNodes(e)}_renderViewRangeForNode(e){super._renderViewRangeForNode(e)}_onScroll(e){super._onScroll(e)}}class D extends s.TreeAdapter{_onNodesSelected(e){super._onNodesSelected(e)}_onNodesChecked(e){super._onNodesChecked(e)}_onNodeExpanded(e,t){super._onNodeExpanded(e,t)}}const Q=g;s.ObjectFactory.get().registerNamespace("scout",g);var Ae=n.AbortableMicrotaskStaticLookupCall,Ee=n.ActiveDummyLookupCall,ke=n.CloneSpecHelper,Be=n.ColumnDescriptorDummyLookupCall,De=n.DummyLookupCall,Pe=n.FocusManagerSpecHelper,Le=n.FormSpecHelper,Re=n.GroupBoxSpecHelper,Oe=n.JQueryTesting,He=n.JasmineScout,je=n.JasmineScoutUtil,Ne=n.LanguageDummyLookupCall,Ie=n.LocaleSpecHelper,qe=n.MenuSpecHelper,Ge=n.OutlineSpecHelper,Je=n.SpecForm,Ue=n.SpecLifecycle,$e=n.SpecRadioButtonGroup,Ke=n.SpecTable,We=n.SpecTableAdapter,Ve=n.SpecTree,ze=n.SpecTreeAdapter,Xe=n.TabBoxSpecHelper,Qe=n.TableSpecHelper,Ye=n.TestBeanField,Ze=n.TestingApp,et=n.TreeSpecHelper,tt=n.default,rt=n.jasmineScoutMatchers;export{Ae as AbortableMicrotaskStaticLookupCall,Ee as ActiveDummyLookupCall,ke as CloneSpecHelper,Be as ColumnDescriptorDummyLookupCall,De as DummyLookupCall,Pe as FocusManagerSpecHelper,Le as FormSpecHelper,Re as GroupBoxSpecHelper,Oe as JQueryTesting,He as JasmineScout,je as JasmineScoutUtil,Ne as LanguageDummyLookupCall,Ie as LocaleSpecHelper,qe as MenuSpecHelper,Ge as OutlineSpecHelper,Je as SpecForm,Ue as SpecLifecycle,$e as SpecRadioButtonGroup,Ke as SpecTable,We as SpecTableAdapter,Ve as SpecTree,ze as SpecTreeAdapter,Xe as TabBoxSpecHelper,Qe as TableSpecHelper,Ye as TestBeanField,Ze as TestingApp,et as TreeSpecHelper,tt as default,rt as jasmineScoutMatchers};

//# sourceMappingURL=eclipse-scout-testing.esm-739df01d0fb6e34f0e23.min.js.map